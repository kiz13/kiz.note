# commander

search the bash history and rerun a command? [credits](https://superuser.com/a/7416) press <kbd>Ctrl</kbd> + <kbd>R</kbd> at the command line and type the words to search, then press <kbd>Ctrl</kbd> + <kbd>R</kbd> again to see other matches (You can also use this method in powershell)

- check os information `cat /etc/os-release`
- `curl` [post file](https://stackoverflow.com/questions/12667797/using-curl-to-upload-post-data-with-files)
- [Use grep --exclude/--include syntax](https://stackoverflow.com/questions/221921/use-grep-exclude-include-syntax-to-not-grep-through-certain-files) `grep pattern -r --include=\*.cpp --include=\*.h rootdir`
- [exclude words with grep with `--invert-match`](https://stackoverflow.com/questions/4538253/how-can-i-exclude-one-word-with-grep) `grep -v "unwanted_word" file`
- [how to get full path of a file?](https://stackoverflow.com/questions/5265702/how-to-get-full-path-of-a-file) `readlink -f filename.extension`
- [ping doesn't stop?](https://askubuntu.com/questions/200989/ping-for-4-times) `alias ping="ping -c 4"`, with the `-c` option, it will stop after sending 4 ECHO_REQUEST packets, check the [man page](https://man7.org/linux/man-pages/man8/ping.8.html)
- [list the disk usage of directories?](https://stackoverflow.com/questions/1019116/using-ls-to-list-directories-and-their-total-sizes) `du -sh`
- [determine linux kernel architecture](https://unix.stackexchange.com/questions/12453/how-to-determine-linux-kernel-architecture) `uname --machine`
- [How to install a rpm package and its dependencies offline?](https://stackoverflow.com/questions/50648152/how-to-install-a-rpm-package-and-its-dependencies-offline)
  - download that rpm from the machine with internet connected, then ftp the file to the sever and do `rpm -ivh pkg.rpm`
  - use `yumdownloader`
- [unzip tgz file](https://askubuntu.com/questions/499807/how-to-unzip-tgz-file-using-the-terminal) `tar -xzvf /path/to/yourfile.tgz` [_eXtract Ze Vucking File_](https://www.reddit.com/r/ProgrammerHumor/comments/whx66x/comment/ij8a3ak/?utm_source=share&utm_medium=web2x&context=3)
  - `x` for extract
  - `v` for verbose
  - `z` for gnuzip
  - `f` for file, should come at last just before file name.
- [explanatory of different outputs with `file`](https://unix.stackexchange.com/a/151035)
- [unzip file use `unzip`](https://askubuntu.com/questions/86849/how-to-unzip-a-zip-file-from-the-terminal)
- `df [OPTION]... [FILE]...` show information about the file system on which each FILE resides, or all file systems by default.
- [echo a blank?](https://stackoverflow.com/questions/37052899/what-is-the-preferred-method-to-echo-a-blank-line-in-a-shell-script) `echo` is preferred, `echo ""` is good but unnecessary
- [format date](https://stackoverflow.com/questions/1401482/yyyy-mm-dd-format-date-in-shell-script) `date '+%Y-%m-%d %H:%M:%S'`
- [convert string to date](https://stackoverflow.com/questions/11144408/convert-string-to-date-in-bash) `date -d 'date string' +'%Y-%m-%d'`, `date -d "$(date -d "${date}" +%Y-%m-%d) ${time}" +%s` <- wtf is this? (generated by copilot)
- check if a program exists
  ```shell
  if ! command -v <the_command> &> /dev/null
  then
      echo "<the_command> could not be found"
      exit
  fi
  ```
- [parse json use `jq` from command line](https://stackoverflow.com/a/1955555)
- use `tree` command without installing it? [tree doesn't seem to have particular dependencies (libc6), so you may simply copy the executable into a env path](https://superuser.com/a/190499)
- `grep` specify **or** condition? With normal regex, the characters `(`, `|` and `)` need to be escaped; with _extended regex_ (`-E`) option, you don't need the escapes [credits](https://unix.stackexchange.com/a/21765)
  - `grep "ass\|hole"`
  - `grep -E "ass|hole"`
- move all files from sub folders to paren folder? go to the parent dir and run [`find . -mindepth 2 -type f -print -exec mv {} . \;`](https://askubuntu.com/a/146643)
- [find ipv4 address from command line?](https://unix.stackexchange.com/questions/504163/easily-find-ipv4-address) `ip -c -4 addr` The `-c` parameter adds colour to the IP addresses, so you can easily find it.

## ssh

[automate ssh login with password](https://serverfault.com/questions/241588/how-to-automate-ssh-login-with-password)

[include a password with ssh](https://askubuntu.com/questions/224181/how-do-i-include-a-password-with-ssh-command-want-to-make-shell-script)

## helping links

- [\(pkgs.org\) Packages for Linux and Unix](https://pkgs.org/)
- [\(Linux Handbook\) use crontab](https://linuxhandbook.com/crontab/)
- [\(Open Group\) crontab docs](https://pubs.opengroup.org/onlinepubs/9699919799/utilities/crontab.html)
- [\(cnblogs\) grep命令详解](https://www.cnblogs.com/ggjucheng/archive/2013/01/13/2856896.html)
- [\(nixCraft\) grep with examples](https://www.cyberciti.biz/faq/grep-regular-expressions/)
